#include <iostream>
#include <cstdlib>
using namespace std;

class Fractie {
    private:
    int numarator;
    int numitor;

    // ğŸ”¹ MetodÄƒ privatÄƒ care simplificÄƒ fracÈ›ia folosind algoritmul lui Euclid
    void simplifica() {
        int a = abs(numarator), b = abs(numitor);
        while (b != 0) {
            int r = a % b;
            a = b;
            b = r;
        }
        if (a != 0) {
            numarator /= a;
            numitor /= a;
        }
        // DacÄƒ numitorul este negativ, mutÄƒm semnul la numÄƒrÄƒtor
        if (numitor < 0) {
            numarator = -numarator;
            numitor = -numitor;
        }
    }

    public:
    // ğŸ”¹ Constructor cu parametri (are valori implicite)
    // IniÈ›ializeazÄƒ fracÈ›ia È™i verificÄƒ dacÄƒ numitorul este valid
    Fractie(int n = 0, int m = 1) {
        if (m == 0) {
            cout << "Numitorul nu poate fi 0. Se seteaza la 1.\n";
            m = 1;
        }
        numarator = n;
        numitor = m;
        simplifica(); // se simplificÄƒ automat la crearea obiectului
    }

    // ğŸ”¹ Getteri pentru accesarea valorilor private
    int getNumarator() const { return numarator; }
    int getNumitor() const { return numitor; }

    // ğŸ”¹ Supraincarcare operator +
    // ReturneazÄƒ suma a douÄƒ fracÈ›ii
    Fractie operator+(const Fractie& f) const {
        return Fractie(numarator * f.numitor + f.numarator * numitor, numitor * f.numitor);
    }

    // ğŸ”¹ Supraincarcare operator -
    // ReturneazÄƒ diferenÈ›a a douÄƒ fracÈ›ii
    Fractie operator-(const Fractie& f) const {
        return Fractie(numarator * f.numitor - f.numarator * numitor, numitor * f.numitor);
    }

    // ğŸ”¹ Supraincarcare operator *
    // ReturneazÄƒ produsul a douÄƒ fracÈ›ii
    Fractie operator*(const Fractie& f) const {
        return Fractie(numarator * f.numarator, numitor * f.numitor);
    }

    // ğŸ”¹ Supraincarcare operator /
    // ReturneazÄƒ rezultatul Ã®mpÄƒrÈ›irii a douÄƒ fracÈ›ii
    Fractie operator/(const Fractie& f) const {
        if (f.numarator == 0) {
            cout << "Impartire la zero! Rezultat setat la 0/1.\n";
            return Fractie(0, 1);
        }
        return Fractie(numarator * f.numitor, numitor * f.numarator);
    }

    // ğŸ”¹ Operator de comparare ==
    // VerificÄƒ dacÄƒ douÄƒ fracÈ›ii sunt egale
    bool operator==(const Fractie& f) const {
        return numarator == f.numarator && numitor == f.numitor;
    }

    // ğŸ”¹ Operator de comparare !=
    // VerificÄƒ dacÄƒ douÄƒ fracÈ›ii sunt diferite
    bool operator!=(const Fractie& f) const {
        return !(*this == f);
    }
    // ğŸ”¹ Operator <
    // ComparÄƒ valorile fracÈ›iilor ca numere reale
    bool operator<(const Fractie& f) const {
        return (double)(*this) < (double)f;
    }
    // ğŸ”¹ Operator >
    bool operator>(const Fractie& f) const {
        return (double)(*this) > (double)f;
    }
    // ğŸ”¹ Operator <=
    bool operator<=(const Fractie& f) const {
        return !(*this > f);
    }
    // ğŸ”¹ Operator >=
    bool operator>=(const Fractie& f) const {
        return !(*this < f);
    }
    // ğŸ”¹ Operator +=
    // AdaugÄƒ o altÄƒ fracÈ›ie la cea curentÄƒ È™i returneazÄƒ referinÈ›a cÄƒtre obiectul modificat
    Fractie& operator+=(const Fractie& f) {
        *this = *this + f;
        return *this;
    }
    // ğŸ”¹ Operator de conversie la tipul double
    // Permite transformarea unei fracÈ›ii Ã®n valoare realÄƒ (ex: (double)f)
    operator double() const {
        return (double)numarator / numitor;
    }
    // ğŸ”¹ FuncÈ›ie prietenÄƒ pentru citirea unei fracÈ›ii de la tastaturÄƒ
    // SupraincarcÄƒ operatorul >>
    friend istream& operator>>(istream& in, Fractie& f) {
        cout << "Introdu numaratorul: ";
        in >> f.numarator;
        cout << "Introdu numitorul: ";
        in >> f.numitor;
        if (f.numitor == 0) {
            cout << "Numitor invalid, setat la 1.\n";
            f.numitor = 1;
        }
        f.simplifica();
        return in;
    }
    // ğŸ”¹ FuncÈ›ie prietenÄƒ pentru afiÈ™area unei fracÈ›ii
    // SupraincarcÄƒ operatorul <<
    friend ostream& operator<<(ostream& out, const Fractie& f) {
        out << f.numarator << "/" << f.numitor;
        return out;
    }
};
// ğŸ”¹ FuncÈ›ie de meniu pentru interacÈ›iunea cu utilizatorul
void meniu() {
    Fractie f1, f2, rezultat;
    int optiune;
    cout << "Introdu prima fractie:\n";
    cin >> f1;
    cout << "\nIntrodu a doua fractie:\n";
    cin >> f2;
    cout << "\nAlege operatia:\n";
    cout << "1. Adunare\n";
    cout << "2. Scadere\n";
    cout << "3. Inmultire\n";
    cout << "4. Impartire\n";
    cout << "5. Comparare (>)\n";
    cout << "6. Comparare (<)\n";
    cout << "7. Egalitate (==)\n";
    cout << "8. Diferenta (!=)\n";
    cout << "Optiunea ta: ";
    cin >> optiune;
    switch (optiune) {
        case 1:
            rezultat = f1 + f2;
            cout << "\nRezultat adunare: " << rezultat << endl;
            break;
        case 2:
            rezultat = f1 - f2;
            cout << "\nRezultat scadere: " << rezultat << endl;
            break;
        case 3:
            rezultat = f1 * f2;
            cout << "\nRezultat inmultire: " << rezultat << endl;
            break;
        case 4:
            rezultat = f1 / f2;
            cout << "\nRezultat impartire: " << rezultat << endl;
            break;
        case 5:
            cout << "\nRezultat comparare: "
                    << (f1 > f2 ? "Prima fractie este mai mare" : "A doua fractie este mai mare sau egala") << endl;
            break;
        case 6:
            cout << "\nRezultat comparare: "
                    << (f1 < f2 ? "Prima fractie este mai mica" : "A doua fractie este mai mica sau egala") << endl;
            break;
        case 7:
            cout << "\nEgalitate: " << (f1 == f2 ? "Fractiile sunt egale" : "Fractiile nu sunt egale") << endl;
            break;
        case 8:
            cout << "\nDiferenta: " << (f1 != f2 ? "Fractiile sunt diferite" : "Fractiile sunt identice") << endl;
            break;
        default:
            cout << "Optiune invalida.\n";
            break;
    }
    if (optiune >= 1 && optiune <= 4)
        cout << "\nValoare reala a rezultatului: " << (double)rezultat << endl;
}
// ğŸ”¹ FuncÈ›ia principalÄƒ
int main() {
    meniu();
    return 0;
}
